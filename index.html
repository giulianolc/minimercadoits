<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Mini Shop ITS</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="contacto.css">

        <!-- Fuentes -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Hind+Madurai&display=swap" rel="stylesheet">
        <!-- -->
    
        <!--Iconos-->
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <script src="https://kit.fontawesome.com/4ea11eba47.js" crossorigin="anonymous"></script>
    <link rel="icon" href="img/cafetttt.jpg">


  </head>
  <body>
    <header>
      


      <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #1573b6;">
        <a class="navbar-brand" href="#">Mini Mercado ITS Cipolletti</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item active">
              <a class="nav-link" href="#">Inicio <span class="sr-only"></span></a>
            </li>
            <li class="nav-item">
                <a  class="nav-link" href="#carrito">Ver carrito</a>
            </li>
            <li class="nav-item">
              <li><a class="nav-link" href="contacto.html">Contacto</a></li>
            </li>
           
          </ul>
        </div>
      </nav>


      
    </header>

    <main>
      <section class="productos">
        <h1 class="boton1">Productos</h1>
        <h2>Comestibles - Aceptamos Mercado Pago</h2>

        <ul>
          <li>
            <div class="card">
            <img src="img/9deoroclass.jpg" alt="Producto 1">
            <h3>9 de Oro Clasicas</h3>
          <p>200</p>
            <button class="agregar-carrito">Agregar al carrito</button>
        </div>
          </li>
          <li>
            <div class="card">
            <img src="img/9deoro_agridulce.webp" alt="Producto 2">
            <h3>9 de Oro Agridulce</h3>
            <p>200</p>
            <button class="agregar-carrito">Agregar al carrito</button>
            </div>
          </li>
          <li>
            <div class="card">
            <img src="img/descarga-pepas-la-no.jpg" alt="Producto 3">
            <h3>Pepas Clasicas</h3>
            <p>200</p>
            <button class="agregar-carrito">Agregar al carrito</button>
            </div>

          </li>

          <li>
            <div class="card">
            <img src="img/pepas cholate.webp" alt="Producto 4">
            <h3>Pepas Con chocolate</h3>
            <p>200</p>
            <button class="agregar-carrito">Agregar al carrito</button>
            </div>

          </li>

          <li>
            <div class="card">
            <img src="img/levite.webp" alt="Producto 5">
            <h3>Levite 1lt</h3>
            <p>300</p>
            <button class="agregar-carrito">Agregar al carrito</button>
            </div>

          </li>

          <li>
            <div class="card">
            <img src="img/HOJALMAR-TRIANGULOS-HOJALDRE-250-GR.png" alt="Producto 6">
            <h3>Hojalmar Hojaldre</h3>
            <p>250</p>
            <button class="agregar-carrito">Agregar al carrito</button>
            </div>

          </li>

          <li>
            <div class="card">
            <img src="img//surtido.png" alt="Producto 7">
            <h3>Surtido bagley</h3>
            <p>390</p>
            <button class="agregar-carrito">Agregar al carrito</button>
            </div>

          </li>


      
          <li>
            <div class="card">
            <img src="img/playadit.jpg" alt="Producto 8">
            <h3>Yerba Playadito</h3>
            <p>400</p>
            <button class="agregar-carrito">Agregar al carrito</button>
            </div>

          </li>







          <li>
            <div class="card">
            <img src="img/pipas11.jpg" alt="Producto 9">
            <h3>Pipas Clasicas</h3>
            <p>80</p>
            <button class="agregar-carrito">Agregar al carrito</button>
            </div>

          </li>

          


 

          <li>
            <div class="card">
            <img src="img/terrammm.jpg" alt="Producto 10">
            <h3>Alfajor Terrabusi Triple</h3>
            <p>250</p>
            <button class="agregar-carrito">Agregar al carrito</button>
            </div>

          </li>

  

          <li>
            <div class="card">
            <img src="img/polvoritanueva222222.png" alt="Producto 11">
            <h3>Polvoritas</h3>
            <p>100</p>
            <button class="agregar-carrito">Agregar al carrito</button>
            </div>

          </li>



<li>
    <div class="card">
    <img src="img/tatinimg.png" alt="Producto 12">
    <h3>Alfajor Tatin</h3>
    <p>100</p>
    <button class="agregar-carrito">Agregar al carrito</button>
    </div>

  </li>


  <li>
    <div class="card">
    <img src="img/cafetttt.jpg" alt="Producto 13">
    <h3>Café</h3>
    <p>100</p>
    <button class="agregar-carrito">Agregar al carrito</button>
    </div>

  </li>

  <li>
    <div class="card">
    <img src="img/cafetttt.jpg" alt="Producto 14">
    <h3>Capuchino</h3>
    <p>150</p>
    <button class="agregar-carrito">Agregar al carrito</button>
    </div>

  </li>

  <li>
    <div class="card">
    <img src="img/cafetttt.jpg" alt="Producto 15">
    <h3>Té o Matecocido</h3>
    <p>80</p>
    <button class="agregar-carrito">Agregar al carrito</button>
    </div>

  </li>


        </ul>

      </section>

      <section class="carrito" id="carrito">
        
        <div class="boton1">
        <h2>Carrito</h2>
        </div>
        <table>
          <thead>
            <tr>
              <th style="background-color: #000000">Producto</th>
              <th style="background-color: #000000">Precio</th>
              <th style="background-color: #000000">Cantidad</th>
              <th style="background-color: #000000">Subtotal</th>
            </tr>
          </thead>
          <tbody></tbody>
          <tfoot>
            <tr>
              <td colspan="3">Total:</td>
              <td></td>
            </tr>
          </tfoot>
          
          
        </table>



        <form id="formulario">
          <label for="nombre">Nombre:</label>
          <input type="text" id="nombre" name="nombre" required>

          <div class="group">
          <label for="curso">Numero Celular:</label>
          <input type="text" id="curso" name="curso" required>
    
    </div>
          
 <div class="boton1">
   
        <button id="btn-whatsapp">Enviar pedido por WhatsApp</button>
</div>

          <div class="boton1">
          <button type="submit" class="btn btn-secondary btn-lg btn-block">Enviar pedido Por email</button>
</div>

 

 


    <!--::::Pie de Pagina::::::-->
    <footer class="pie-pagina">
        <div class="grupo-1">
            <div class="box">
                <figure>
                    <a href="#">
                       
                    </a>
                </figure>
            </div>
            
            <div class="box">
              
                <h2>REDES SOCIALES</h2>
                <div class="red-social">
                    <a href="https://pbs.twimg.com/media/FiihKcnWQAMo17Y.png" class="fa fa-facebook"></a>
                    <a href="https://www.instagram.com/p/CmYyND_OYMl/" class="fa fa-instagram"></a>
                    <a href="https://twitter.com/soyunargento/status/1650947038798807045" class="fa fa-twitter"></a>
                    <a href="https://www.youtube.com/watch?v=WKig0_VzhD4" class="fa fa-youtube"></a>
                </div>
            </div>
        </div>
        <div class="grupo-2">
            <small>&copy; 2023 <b>MiniMercado</b> - Todos los Derechos Reservados.</small>
        </div>
    </footer>




</body>




</html>




<script>
    



    // Variables globales
const carrito = [];
const carritoDOM = document.querySelector(".carrito tbody");
const carritoTotalDOM = document.querySelector(".carrito tfoot td:last-child");
const productosDOM = document.querySelector(".productos ul");
const formularioDOM = document.getElementById("formulario");

// Funciones auxiliares
function renderizarCarrito() {
// Vaciar el carrito
carritoDOM.innerHTML = "";

// Renderizar cada producto del carrito
carrito.forEach((producto) => {
  const { nombre, precio, cantidad } = producto;
  const subtotal = precio * cantidad;

  const tr = document.createElement("tr");
  tr.innerHTML = `
    <td>${nombre}</td>
    <td>${precio}</td>
    <td>${cantidad}</td>
    <td>${subtotal.toFixed(2)}</td>
  `;
  carritoDOM.appendChild(tr);
});

// Actualizar el total del carrito
const total = carrito.reduce((total, producto) => {
  return total + producto.precio * producto.cantidad;
}, 0);
carritoTotalDOM.textContent = total.toFixed(2);
}

function agregarAlCarrito(producto) {
// Buscar si el producto ya está en el carrito
const indice = carrito.findIndex((p) => p.nombre === producto.nombre);

if (indice !== -1) {
  // Si el producto ya está en el carrito, aumentar su cantidad
  carrito[indice].cantidad++;
} else {
  // Si el producto no está en el carrito, añadirlo
  carrito.push({
    ...producto,
    cantidad: 1,
  });
}

// Renderizar el carrito
renderizarCarrito();
}

// Event listeners
productosDOM.addEventListener("click", (event) => {
if (event.target.classList.contains("agregar-carrito")) {
  // Obtener la información del producto
  const li = event.target.closest("li");
  const nombre = li.querySelector("h3").textContent;
  const precio = parseFloat(li.querySelector("p").textContent);

  // Agregar el producto al carrito
  agregarAlCarrito({
    nombre,
    precio,
  });
}
});

formularioDOM.addEventListener("submit", (event) => {
event.preventDefault();

// Obtener la información del cliente
const nombre = formularioDOM.elements["nombre"].value;
const curso = formularioDOM.elements["curso"].value;
const carritoJSON = JSON.stringify(carrito);



// Enviar la información por correo electrónico
window.location.href = `mailto:pedidostiendaits@gmail.com?subject=Pedido de ${nombre}&body=Nombre: ${nombre}%0ANumero: ${curso}%0A%0ACarrito:%0A${carritoJSON}`;
});





document.getElementById("btn-whatsapp").addEventListener("click", function() {


    const total = carrito.reduce((total, producto) => {
  return total + producto.precio * producto.cantidad;
}, 0);
carritoTotalDOM.textContent = total.toFixed(2);



    const nombre = formularioDOM.elements["nombre"].value;
const curso = formularioDOM.elements["curso"].value;
const carritoJSON = JSON.stringify(carrito);


  var phoneNumber = "+542995278319"; // número de teléfono con código de país pero sin espacios ni guiones
  var message =`Pedido de ${nombre} // Carrito: ${carritoJSON} // total: $${total}  `;
  
  
  // mensaje a enviar
  var url = "https://api.whatsapp.com/send?phone=" + phoneNumber + "&text=" + encodeURIComponent(message);
  window.open(url);
});












// Renderizar los productos
productos.forEach((producto) => {
const { imagen, nombre, precio } = producto;

const li = document.createElement("li");
li.innerHTML = `
  <img src="${imagen}" alt="${nombre}">
  <h3>${nombre}</h3>
  <p>${precio.toFixed(2)}</p>
  <button class="agregar-carrito">Agregar al carrito</button>
`;
productosDOM.appendChild(li);
});

    // Aquí iría el código JavaScript que te proporcioné antes

    

    function eliminarDelCarrito(idProducto) {
  // código para eliminar el producto del carrito
 if (total > 1)
 carritoTotalDOM = []
 
carritoTotalDOM.textContent = total.toFixed(2);
} // actualizamos la vista del carrito
  guardarCarritoEnLocalStorage(); // guardamos el carrito en el Local Storage











    



    
  </script>








    
